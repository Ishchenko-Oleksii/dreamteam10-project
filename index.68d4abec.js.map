{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,gDAGkBC,SAASC,cAAc,cAAzC,IACMC,EAAsBF,SAASC,cAAc,e,SAIpCE,I,OAAAA,EAAfC,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,wEACwB,0D,SAEhBC,EAAAC,QAAMC,IAFU,2DAESC,MAAK,SAAAC,GAClCC,QAAQC,IAAIF,EAASG,MACrB,IAAIC,EAAW,EAEfd,EAAoBe,mBAClB,aACA,mEAA4EC,OAATF,EAAS,+EAE9EhB,SAASmB,eAAe,WAAWC,iBAAiB,SAAS,SAACC,GAC5DC,SAASC,Q,IAGZ,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAASG,KAAKU,OAAQD,IACvCR,GAAY,EAEZd,EAAoBe,mBAClB,YACA,2EAAkHC,OAAvCF,EAAS,gCAAyDE,OAA3BN,EAASG,KAAKS,GAAGE,UAAU,mBAIjJC,G,gDAxB0BC,MAAAC,KAAAC,U,CA6B5B5B,EAAoBkB,iBAAiB,SAAS,SAAUW,GACtDA,EAAMC,iBACN,IAAIC,EAAQF,EAAMG,QAAUH,EAAMI,QAAUJ,EAAMK,WAClDlC,EAAoBmC,WAAaJ,C,eAhCtB9B,EAAeyB,MAAAC,KAAAC,U,CAF9BQ,GAsCA,IAAIC,EAAmB,iBACnBC,EAAgB,GAEpB,SAASb,IACP,IAAMc,EAAUzC,SAAS0C,iBAAiB,sBAC1CD,EAAQE,SAAQ,SAAAC,GACdA,EAAOxB,iBAAiB,SAAS,WAC/BqB,EAAQE,SAAQ,SAAAE,GACdA,EAAIC,UAAUC,OAAO,oB,IAEvBR,EAAmBV,KAAKmB,YACxBnB,KAAKiB,UAAUG,IAAI,qBACnBT,EAAgBU,mBAAmBX,GAEb,mBAAnBA,IACHvC,SAASC,cAAc,eAAekD,UAAY,IAOtDnD,SAASC,cAAc,eAAekD,UAAY,GAClD3C,EAAAC,QAAMC,IAAI,+DAA6EQ,OAAdsB,IAAiB7B,MAAK,SAACyC,GAChFA,EAAIrC,KACZ4B,SAAQ,SAACU,GACb,IAAMC,EAAYD,EAAKE,WACjBC,EAAYH,EAAKI,MACjBC,EAAaL,EAAKM,OAClBC,EAAgB5D,SAAS6D,cAAc,OAC7CD,EAAcd,UAAUG,IAAI,aAC5B,IAAMa,EAAa9D,SAAS6D,cAAc,OAC1CC,EAAWC,IAAMT,EACjBQ,EAAWhB,UAAUG,IAAI,2BACzB,IAAMe,EAAehE,SAAS6D,cAAc,KAC5CG,EAAalB,UAAUG,IAAI,cACvBO,EAAU/B,OAAS,GACrBuC,EAAahB,YAAcQ,EAAUS,UAAU,EAAG,IAAM,MAExDD,EAAahB,YAAcQ,EAG7B,IAAMU,EAAgBlE,SAAS6D,cAAc,KAC7CK,EAAcpB,UAAUG,IAAI,eAExBS,EAAWjC,OAAS,GACtByC,EAAclB,YAAcU,EAAWO,UAAU,EAAG,IAAM,MAE1DC,EAAclB,YAAcU,EAE9BE,EAAcO,YAAYL,GAC1BF,EAAcO,YAAYH,GAC1BJ,EAAcO,YAAYD,GAC1BlE,SAASC,cAAc,eAAekE,YAAYP,E","sources":["src/js/sitebar.js"],"sourcesContent":["import axios from 'axios';\nimport { setHome } from './home';\nimport { event } from 'jquery';\nconst scrollbar = document.querySelector('.scrollbar');\nconst insertingCategories = document.querySelector('.aside-list');\nscrolling();\nfetchCategories();\n\nasync function fetchCategories() {\n  const apiCategories = 'https://books-backend.p.goit.global/books/category-list';\n\n  await axios.get(apiCategories).then(response => {\n    console.log(response.data);\n    let buttonId = 1;\n\n    insertingCategories.insertAdjacentHTML(\n      'afterbegin',\n      `<li class=\"category-aside-list\"><button type=\"button\" id=\"button${buttonId}\" class=\"aside-list-button selected-category\">All categories</button></li>`\n    );\n    document.getElementById('button1').addEventListener('click', (event) => {\n      location.reload();\n    });\n    \n   for (let i = 0; i < response.data.length; i++) {\n      buttonId += 1;\n\n      insertingCategories.insertAdjacentHTML(\n        'beforeend',\n        `<li class=\"category-aside-list\"><button type=\"button\" id=\"btnAsideListId${buttonId}\" class=\"aside-list-button\">${response.data[i].list_name}</button></li>`\n      );\n    }\n\n    attachEventListeners();\n  });\n}\n\nfunction scrolling() {\n  insertingCategories.addEventListener('wheel', function (event) {\n    event.preventDefault();\n    var delta = event.deltaY || event.detail || event.wheelDelta;\n    insertingCategories.scrollTop += delta;\n  });\n}\n\nlet selectedCategory = 'All categories';\nlet encodedString = '';\n\nfunction attachEventListeners() {\n  const buttons = document.querySelectorAll('.aside-list-button');\n  buttons.forEach(button => {\n    button.addEventListener('click', function () {\n      buttons.forEach(btn => {\n        btn.classList.remove('selected-category');\n      });\n      selectedCategory = this.textContent;\n      this.classList.add('selected-category');\n      encodedString = encodeURIComponent(selectedCategory);\n\n      if(selectedCategory==='All categories'){\n      document.querySelector('.export-all').innerHTML = '';\n      }\n      getElementsByCategory();\n    });\n  });\n}\nfunction getElementsByCategory() {\n  document.querySelector('.export-all').innerHTML = '';\n  axios.get(`https://books-backend.p.goit.global/books/category?category=${encodedString}`).then((res) => {\n    const books = res.data;\n    books.forEach((book) => {\n      const bookImage = book.book_image;\n      const bookTitle = book.title;\n      const bookAuthor = book.author;\n      const bookContainer = document.createElement('div');\n      bookContainer.classList.add('book-item');\n      const imgElement = document.createElement('img');\n      imgElement.src = bookImage;\n      imgElement.classList.add('insertedByCategoryBooks');\n      const titleElement = document.createElement('p');\n      titleElement.classList.add('book-title');\n      if (bookTitle.length > 15) {\n        titleElement.textContent = bookTitle.substring(0, 15) + '...';\n      } else {\n        titleElement.textContent = bookTitle;\n      }\n\n      const authorElement = document.createElement('p');\n      authorElement.classList.add('book-author');\n\n      if (bookAuthor.length > 15) {\n        authorElement.textContent = bookAuthor.substring(0, 15) + '...';\n      } else {\n        authorElement.textContent = bookAuthor;\n      }\n      bookContainer.appendChild(imgElement);\n      bookContainer.appendChild(titleElement);\n      bookContainer.appendChild(authorElement);\n      document.querySelector('.export-all').appendChild(bookContainer);\n    });\n  });\n}"],"names":["$bpxeT","parcelRequire","document","querySelector","$b4951435b98719b9$var$insertingCategories","$b4951435b98719b9$var$_fetchCategories","$parcel$interopDefault","$2TvXO","mark","_callee","$dIxxU","default","get","then","response","console","log","data","buttonId","insertAdjacentHTML","concat","getElementById","addEventListener","event","location","reload","i","length","list_name","$b4951435b98719b9$var$attachEventListeners","apply","this","arguments","event1","preventDefault","delta","deltaY","detail","wheelDelta","scrollTop","$b4951435b98719b9$var$fetchCategories","$b4951435b98719b9$var$selectedCategory","$b4951435b98719b9$var$encodedString","buttons","querySelectorAll","forEach","button","btn","classList","remove","textContent","add","encodeURIComponent","innerHTML","res","book","bookImage","book_image","bookTitle","title","bookAuthor","author","bookContainer","createElement","imgElement","src","titleElement","substring","authorElement","appendChild"],"version":3,"file":"index.68d4abec.js.map"}