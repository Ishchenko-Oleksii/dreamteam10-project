{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,aAEkBC,SAASC,cAAc,cAAzC,MACMC,EAAsBF,SAASC,cAAc,eA8BjDC,EAAoBC,iBAAiB,SAAS,SAAUC,GACtDA,EAAMC,iBACN,IAAIC,EAAQF,EAAMG,QAAUH,EAAMI,QAAUJ,EAAMK,WAClDP,EAAoBQ,WAAaJ,C,IA7BrCK,uBAGQb,EAAAc,QAAMC,IAFU,2DAESC,MAAKC,IAClCC,QAAQC,IAAIF,EAASG,MACrB,IAAIC,EAAW,EAEfjB,EAAoBkB,mBAClB,aACA,6DAA6DD,+EAG/D,IAAK,IAAIE,EAAI,EAAGA,EAAIN,EAASG,KAAKI,OAAQD,IACxCF,GAAY,EAEZjB,EAAoBkB,mBAClB,YACA,2EAA2ED,gCAAuCJ,EAASG,KAAKG,GAAGE,4BAmB3I,WACE,MAAMC,EAAUxB,SAASyB,iBAAiB,sBAE1CD,EAAQE,SAAQC,IACdA,EAAOxB,iBAAiB,SAAS,WAC/BqB,EAAQE,SAAQE,IACdA,EAAIC,UAAUC,OAAO,oBAAoB,IAG3CC,EAAmBC,KAAKC,YACxBD,KAAKH,UAAUK,IAAI,qBACnBC,EAAgBC,mBAAmBL,GACd,kBAAlBA,IACH/B,SAASC,cAAc,eAAeoC,UAAY,IAQtDrC,SAASC,cAAc,eAAeoC,UAAY,GAClDvC,EAAAc,QAAMC,IAAI,+DAA+DsB,KAAiBrB,MAAMwB,IACxE,mBAAnBP,GACD,EAAAQ,EAAAC,WACyB,kBAAlBT,GACKO,EAAIpB,KACZQ,SAASe,IACb,MAAMC,EAAYD,EAAKE,WACjBC,EAAYH,EAAKI,MACjBC,EAAaL,EAAKM,OAClBC,EAAgBhD,SAASiD,cAAc,OAC7CD,EAAcnB,UAAUK,IAAI,aAC5B,MAAMgB,EAAalD,SAASiD,cAAc,OAC1CC,EAAWC,IAAMT,EACjBQ,EAAWrB,UAAUK,IAAI,2BACzB,MAAMkB,EAAepD,SAASiD,cAAc,KAC5CG,EAAavB,UAAUK,IAAI,cACvBU,EAAUtB,OAAS,GACrB8B,EAAanB,YAAcW,EAAUS,UAAU,EAAG,IAAM,MAExDD,EAAanB,YAAcW,EAG7B,MAAMU,EAAgBtD,SAASiD,cAAc,KAC7CK,EAAczB,UAAUK,IAAI,eAExBY,EAAWxB,OAAS,GACtBgC,EAAcrB,YAAca,EAAWO,UAAU,EAAG,IAAM,MAE1DC,EAAcrB,YAAca,EAE9BE,EAAcO,YAAYL,GAC1BF,EAAcO,YAAYH,GAC1BJ,EAAcO,YAAYD,GAC1BtD,SAASC,cAAc,eAAesD,YAAYP,EAAc,G,MAvChE,G,CA/BFQ,EAAsB,G,CAvB1BC,GAmCA,IAAI1B,EAAmB,iBACnBI,EAAgB,E","sources":["src/js/sitebar.js"],"sourcesContent":["import axios from 'axios';\n\nconst scrollbar = document.querySelector('.scrollbar');\nconst insertingCategories = document.querySelector('.aside-list');\nscrolling();\nfetchCategories();\n\nasync function fetchCategories() {\n  const apiCategories = 'https://books-backend.p.goit.global/books/category-list';\n\n  await axios.get(apiCategories).then(response => {\n    console.log(response.data);\n    let buttonId = 1;\n\n    insertingCategories.insertAdjacentHTML(\n      'afterbegin',\n      `<li class=\"category-aside-list\"><button type=\"button\" id=\"${buttonId}\" class=\"aside-list-button selected-category\">All categories</button></li>`\n    );\n\n    for (let i = 0; i < response.data.length; i++) {\n      buttonId += 1;\n\n      insertingCategories.insertAdjacentHTML(\n        'beforeend',\n        `<li class=\"category-aside-list\"><button type=\"button\" id=\"btnAsideListId${buttonId}\" class=\"aside-list-button\">${response.data[i].list_name}</button></li>`\n      );\n    }\n\n    attachEventListeners();\n  });\n}\n\nfunction scrolling() {\n  insertingCategories.addEventListener('wheel', function (event) {\n    event.preventDefault();\n    var delta = event.deltaY || event.detail || event.wheelDelta;\n    insertingCategories.scrollTop += delta;\n  });\n}\n\nlet selectedCategory = 'All categories';\nlet encodedString = '';\n\nfunction attachEventListeners() {\n  const buttons = document.querySelectorAll('.aside-list-button');\n\n  buttons.forEach(button => {\n    button.addEventListener('click', function () {\n      buttons.forEach(btn => {\n        btn.classList.remove('selected-category');\n      });\n\n      selectedCategory = this.textContent;\n      this.classList.add('selected-category');\n      encodedString = encodeURIComponent(selectedCategory);\n      if(selectedCategory!='All categories'){\n      document.querySelector('.export-all').innerHTML = '';\n      }\n      getElementsByCategory();\n    });\n  });\n}\nimport { setHome } from './home';\nfunction getElementsByCategory() {\n  document.querySelector('.export-all').innerHTML = '';\n  axios.get(`https://books-backend.p.goit.global/books/category?category=${encodedString}`).then((res) => {\n    if(selectedCategory==='All categories'){\n      setHome();\n    }else if(selectedCategory!='All categories'){\n    const books = res.data;\n    books.forEach((book) => {\n      const bookImage = book.book_image;\n      const bookTitle = book.title;\n      const bookAuthor = book.author;\n      const bookContainer = document.createElement('div');\n      bookContainer.classList.add('book-item');\n      const imgElement = document.createElement('img');\n      imgElement.src = bookImage;\n      imgElement.classList.add('insertedByCategoryBooks');\n      const titleElement = document.createElement('p');\n      titleElement.classList.add('book-title');\n      if (bookTitle.length > 15) {\n        titleElement.textContent = bookTitle.substring(0, 15) + '...';\n      } else {\n        titleElement.textContent = bookTitle;\n      }\n\n      const authorElement = document.createElement('p');\n      authorElement.classList.add('book-author');\n\n      if (bookAuthor.length > 15) {\n        authorElement.textContent = bookAuthor.substring(0, 15) + '...';\n      } else {\n        authorElement.textContent = bookAuthor;\n      }\n      bookContainer.appendChild(imgElement);\n      bookContainer.appendChild(titleElement);\n      bookContainer.appendChild(authorElement);\n      document.querySelector('.export-all').appendChild(bookContainer);\n    });\n  }\n  });\n}"],"names":["$2shzp","parcelRequire","document","querySelector","$1966c5015dfe7f61$var$insertingCategories","addEventListener","event","preventDefault","delta","deltaY","detail","wheelDelta","scrollTop","async","default","get","then","response","console","log","data","buttonId","insertAdjacentHTML","i","length","list_name","buttons","querySelectorAll","forEach","button","btn","classList","remove","$1966c5015dfe7f61$var$selectedCategory","this","textContent","add","$1966c5015dfe7f61$var$encodedString","encodeURIComponent","innerHTML","res","$awoeA","setHome","book","bookImage","book_image","bookTitle","title","bookAuthor","author","bookContainer","createElement","imgElement","src","titleElement","substring","authorElement","appendChild","$1966c5015dfe7f61$var$attachEventListeners","$1966c5015dfe7f61$var$fetchCategories"],"version":3,"file":"index.fe43ed5e.js.map"}