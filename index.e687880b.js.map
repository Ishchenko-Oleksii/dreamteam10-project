{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,sBAGkBC,SAASC,cAAc,cAAzC,MACMC,EAAsBF,SAASC,cAAc,eAiCjDC,EAAoBC,iBAAiB,SAAS,SAAUC,GACtDA,EAAMC,iBACN,IAAIC,EAAQF,EAAMG,QAAUH,EAAMI,QAAUJ,EAAMK,WAClDP,EAAoBQ,WAAaJ,C,IAhCrCK,uBAGQb,EAAAc,QAAMC,IAFU,2DAESC,MAAKC,IAClCC,QAAQC,IAAIF,EAASG,MACrB,IAAIC,EAAW,EAEfjB,EAAoBkB,mBAClB,aACA,mEAAmED,+EAErEnB,SAASqB,eAAe,WAAWlB,iBAAiB,SAAUmB,IAC5DC,SAASC,QAAQ,IAGpB,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAASG,KAAKQ,OAAQD,IACvCN,GAAY,EAEZjB,EAAoBkB,mBAClB,YACA,2EAA2ED,gCAAuCJ,EAASG,KAAKO,GAAGE,4BAmB3I,WACE,MAAMC,EAAU5B,SAAS6B,iBAAiB,sBAC1CD,EAAQE,SAAQC,IACdA,EAAO5B,iBAAiB,SAAS,WAC/ByB,EAAQE,SAAQE,IACdA,EAAIC,UAAUC,OAAO,oBAAoB,IAE3CC,EAAmBC,KAAKC,YACxBD,KAAKH,UAAUK,IAAI,qBACnBC,EAAgBC,mBAAmBL,GAEb,mBAAnBA,IACHnC,SAASC,cAAc,eAAewC,UAAY,IAOtDzC,SAASC,cAAc,eAAewC,UAAY,GAClD3C,EAAAc,QAAMC,IAAI,+DAA+D0B,KAAiBzB,MAAM4B,IAChFA,EAAIxB,KACZY,SAASa,IACb,MAAMC,EAAYD,EAAKE,WACjBC,EAAYH,EAAKI,MACjBC,EAAaL,EAAKM,OAClBC,EAAgBlD,SAASmD,cAAc,OAC7CD,EAAcjB,UAAUK,IAAI,aAC5B,MAAMc,EAAapD,SAASmD,cAAc,OAC1CC,EAAWC,IAAMT,EACjBQ,EAAWnB,UAAUK,IAAI,2BACzB,MAAMgB,EAAetD,SAASmD,cAAc,KAC5CG,EAAarB,UAAUK,IAAI,cACvBQ,EAAUpB,OAAS,GACrB4B,EAAajB,YAAcS,EAAUS,UAAU,EAAG,IAAM,MAExDD,EAAajB,YAAcS,EAG7B,MAAMU,EAAgBxD,SAASmD,cAAc,KAC7CK,EAAcvB,UAAUK,IAAI,eAExBU,EAAWtB,OAAS,GACtB8B,EAAcnB,YAAcW,EAAWO,UAAU,EAAG,IAAM,MAE1DC,EAAcnB,YAAcW,EAE9BE,EAAcO,YAAYL,GAC1BF,EAAcO,YAAYH,GAC1BJ,EAAcO,YAAYD,GAC1BxD,SAASC,cAAc,eAAewD,YAAYP,EAAc,GAChE,G,GApCA,G,CA9BFQ,EAAsB,G,CA1B1BC,GAsCA,IAAIxB,EAAmB,iBACnBI,EAAgB,E","sources":["src/js/sitebar.js"],"sourcesContent":["import axios from 'axios';\nimport { setHome } from './home';\nimport { event } from 'jquery';\nconst scrollbar = document.querySelector('.scrollbar');\nconst insertingCategories = document.querySelector('.aside-list');\nscrolling();\nfetchCategories();\n\nasync function fetchCategories() {\n  const apiCategories = 'https://books-backend.p.goit.global/books/category-list';\n\n  await axios.get(apiCategories).then(response => {\n    console.log(response.data);\n    let buttonId = 1;\n\n    insertingCategories.insertAdjacentHTML(\n      'afterbegin',\n      `<li class=\"category-aside-list\"><button type=\"button\" id=\"button${buttonId}\" class=\"aside-list-button selected-category\">All categories</button></li>`\n    );\n    document.getElementById('button1').addEventListener('click', (event) => {\n      location.reload();\n    });\n    \n   for (let i = 0; i < response.data.length; i++) {\n      buttonId += 1;\n\n      insertingCategories.insertAdjacentHTML(\n        'beforeend',\n        `<li class=\"category-aside-list\"><button type=\"button\" id=\"btnAsideListId${buttonId}\" class=\"aside-list-button\">${response.data[i].list_name}</button></li>`\n      );\n    }\n\n    attachEventListeners();\n  });\n}\n\nfunction scrolling() {\n  insertingCategories.addEventListener('wheel', function (event) {\n    event.preventDefault();\n    var delta = event.deltaY || event.detail || event.wheelDelta;\n    insertingCategories.scrollTop += delta;\n  });\n}\n\nlet selectedCategory = 'All categories';\nlet encodedString = '';\n\nfunction attachEventListeners() {\n  const buttons = document.querySelectorAll('.aside-list-button');\n  buttons.forEach(button => {\n    button.addEventListener('click', function () {\n      buttons.forEach(btn => {\n        btn.classList.remove('selected-category');\n      });\n      selectedCategory = this.textContent;\n      this.classList.add('selected-category');\n      encodedString = encodeURIComponent(selectedCategory);\n\n      if(selectedCategory==='All categories'){\n      document.querySelector('.export-all').innerHTML = '';\n      }\n      getElementsByCategory();\n    });\n  });\n}\nfunction getElementsByCategory() {\n  document.querySelector('.export-all').innerHTML = '';\n  axios.get(`https://books-backend.p.goit.global/books/category?category=${encodedString}`).then((res) => {\n    const books = res.data;\n    books.forEach((book) => {\n      const bookImage = book.book_image;\n      const bookTitle = book.title;\n      const bookAuthor = book.author;\n      const bookContainer = document.createElement('div');\n      bookContainer.classList.add('book-item');\n      const imgElement = document.createElement('img');\n      imgElement.src = bookImage;\n      imgElement.classList.add('insertedByCategoryBooks');\n      const titleElement = document.createElement('p');\n      titleElement.classList.add('book-title');\n      if (bookTitle.length > 15) {\n        titleElement.textContent = bookTitle.substring(0, 15) + '...';\n      } else {\n        titleElement.textContent = bookTitle;\n      }\n\n      const authorElement = document.createElement('p');\n      authorElement.classList.add('book-author');\n\n      if (bookAuthor.length > 15) {\n        authorElement.textContent = bookAuthor.substring(0, 15) + '...';\n      } else {\n        authorElement.textContent = bookAuthor;\n      }\n      bookContainer.appendChild(imgElement);\n      bookContainer.appendChild(titleElement);\n      bookContainer.appendChild(authorElement);\n      document.querySelector('.export-all').appendChild(bookContainer);\n    });\n  });\n}"],"names":["$2shzp","parcelRequire","document","querySelector","$1966c5015dfe7f61$var$insertingCategories","addEventListener","event1","preventDefault","delta","deltaY","detail","wheelDelta","scrollTop","async","default","get","then","response","console","log","data","buttonId","insertAdjacentHTML","getElementById","event","location","reload","i","length","list_name","buttons","querySelectorAll","forEach","button","btn","classList","remove","$1966c5015dfe7f61$var$selectedCategory","this","textContent","add","$1966c5015dfe7f61$var$encodedString","encodeURIComponent","innerHTML","res","book","bookImage","book_image","bookTitle","title","bookAuthor","author","bookContainer","createElement","imgElement","src","titleElement","substring","authorElement","appendChild","$1966c5015dfe7f61$var$attachEventListeners","$1966c5015dfe7f61$var$fetchCategories"],"version":3,"file":"index.e687880b.js.map"}